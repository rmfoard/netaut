/* the whole deal could be done in R, allowing canning! */

/* Graph collapse vs. cycle outcomes for various initial graph sizes */
psql model_c {
    select initnrnodes, cyclelength, '' as outcome into tmpcyco from s where machinetype = 'C';
    update tmpcyco set outcome = 'collapse' where cyclelength = -1;
    update tmpcyco set outcome = 'cycle' where cyclelength <> -1;
} R {
    t <- select * from tmpcyco
    ggplot(data=t) + geom_bar(mapping=aes(x=factor(initnrnodes), fill=outcome))
}
